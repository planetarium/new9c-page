import"./modulepreload-polyfill-B5Qt9EMX.js";let n;const i=async()=>{const e=new URLSearchParams(window.location.search);if(e.has("code")){const t=await fetch(`${host}/api/auth/validate-line`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e.get("code")})});return t.status!==200?(alert(`Line validation failed: ${await t.text()}`),!1):(n=await t.json(),n.pictureUrl||(n.pictureUrl=""),document.getElementById("modal").style.visibility="hidden",!0)}return document.getElementById("modal").style.visibility="visible",!1};window.checkLineData=i;const s=()=>{const e="2006875022";window.location.href=`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${e}&redirect_uri=${encodeURIComponent(window.location.href)}&state=test&scope=profile%20openid%20email`};window.lineAuth=s;const a=async e=>{console.log(n);const t=await fetch(`${host}/api/auth/login/line`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),o=await t.json();console.log("======="),console.log(o),console.log("======="),t.status===200&&o.token?console.log("Connected successfully!"):console.log("Connection failed: "+o.message),token=o.token,e.SendMessage("APIClient","SetToken","Bearer "+o.token),e.SendMessage("APIClient","SetUri",host),e.SendMessage("APIClient","Initialize")};window.lineLogin=a;
