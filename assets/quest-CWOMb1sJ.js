import"./modulepreload-polyfill-B5Qt9EMX.js";import{l as E,t as p,u as y}from"./user-DeLGBdRP.js";const m=async()=>{const C=(await(await fetch("/api/quest/list",{headers:{Authorization:`Bearer ${p}`,accept:"application/json","Content-Type":"application/json"}})).json()).questList,c=document.getElementById("questList");c.innerHTML="",C.forEach(t=>{const e=document.createElement("tr"),l=document.createElement("td");l.textContent=t.id;const i=document.createElement("td");i.textContent=t.quest.name;const h=document.createElement("td");h.textContent=t.quest.checkValue;const w=document.createElement("td");w.textContent=t.currentValue;const d=document.createElement("td");d.textContent=`${t.quest.rewardValue} ${t.quest.rewardType}`;const s=document.createElement("td");s.textContent=t.completed;const r=document.createElement("td"),n=document.createElement("button");n.active=t.completed,n.textContent="Claim",n.onclick=()=>u(t.id),r.appendChild(n),e.appendChild(l),e.appendChild(i),e.appendChild(d),e.appendChild(s),e.appendChild(r),c.appendChild(e)})},u=async a=>{const o=await fetch("/api/quest/claim",{method:"post",headers:{Authorization:`Bearer ${p}`,accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({questId:a})});o.status===200?(alert(`Quest ${a} claimed`),await y(),await m()):alert(await o.text())};window.login=E;window.getQuest=m;window.claimQuest=u;
